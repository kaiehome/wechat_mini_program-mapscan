# 微信小程序测试指南

## 🚀 快速测试步骤

### 1. 导入项目到微信开发者工具

1. **打开微信开发者工具**
2. **选择"导入项目"**
3. **选择项目目录**: `/Users/wangkai/Documents/GitHub/wechat_mini_program-mapscan`
4. **填写AppID**: 可以使用测试号或您的真实AppID
5. **项目名称**: `打卡集章小程序`

### 2. 测试渐进式地图显示效果

#### 测试场景1: 初始状态（未开始打卡）
1. 打开小程序，进入地图页面
2. **预期效果**:
   - 地图显示为彩色（正常状态）
   - 所有打卡点圆圈显示为灰色，尺寸较小（35x35px）
   - 下方打卡点列表所有项目显示为置灰状态

#### 测试场景2: 部分完成状态
1. 点击"开始扫码"按钮
2. 模拟扫描二维码（可以手动修改存储数据来模拟）
3. **预期效果**:
   - 地图保持彩色显示
   - 已完成的打卡点圆圈变为彩色，尺寸变大（45x45px）
   - 未完成的打卡点圆圈保持灰色，尺寸较小
   - 下方列表对应项目变为彩色显示

#### 测试场景3: 全部完成状态
1. 模拟完成所有6个打卡点
2. **预期效果**:
   - 地图保持彩色显示
   - 所有打卡点圆圈显示为彩色，尺寸较大
   - 下方列表所有项目显示为彩色
   - 显示全屏庆祝动画

## 🔧 模拟测试方法

### 方法1: 手动修改存储数据
在微信开发者工具的调试器中执行以下代码来模拟不同状态：

```javascript
// 模拟初始状态（重置）
wx.setStorageSync('userProgress', {
  isSignedIn: false,
  completedStamps: [],
  totalStamps: 6,
  completionStatus: false
})

// 模拟部分完成（完成签到）
wx.setStorageSync('userProgress', {
  isSignedIn: true,
  completedStamps: ['signin'],
  totalStamps: 6,
  completionStatus: false
})

// 模拟部分完成（完成3个点位）
wx.setStorageSync('userProgress', {
  isSignedIn: true,
  completedStamps: ['signin', 'esports', 'coffee'],
  totalStamps: 6,
  completionStatus: false
})

// 模拟全部完成
wx.setStorageSync('userProgress', {
  isSignedIn: true,
  completedStamps: ['signin', 'esports', 'coffee', 'makeup', 'sleep', 'breeze'],
  totalStamps: 6,
  completionStatus: true
})
```

### 方法2: 使用重置功能
在小程序中点击"重置进度"按钮，然后逐步测试。

## 📱 真机测试

### 1. 生成预览二维码
1. 在微信开发者工具中点击"预览"
2. 使用微信扫描生成的二维码
3. 在真机上测试所有功能

### 2. 测试扫码功能
由于需要真实的二维码，您可以：
1. 使用在线二维码生成器生成测试二维码
2. 二维码内容格式：`checkpoint:signin`、`checkpoint:esports` 等
3. 或者直接使用小程序的"重置进度"功能来模拟不同状态

## 🎯 重点测试项目

### 1. 地图显示效果
- [ ] 地图保持彩色显示
- [ ] 未完成打卡点显示为灰色小圆圈
- [ ] 已完成打卡点显示为彩色大圆圈
- [ ] 状态切换平滑过渡

### 2. 打卡点列表
- [ ] 未完成项目显示置灰效果
- [ ] 已完成项目显示彩色效果
- [ ] 全部完成后有特殊高亮效果

### 3. 庆祝动画
- [ ] 完成所有打卡后显示全屏庆祝动画
- [ ] 动画效果流畅自然

### 4. 数据持久化
- [ ] 刷新页面后状态保持不变
- [ ] 重置功能正常工作

## 🐛 常见问题排查

### 问题1: 地图不显示
**解决方案**:
- 检查网络连接
- 确认地图API配置正确
- 检查坐标数据是否正确

### 问题2: 打卡点状态不更新
**解决方案**:
- 检查 `wx.setStorageSync` 是否正常工作
- 确认页面 `onShow` 方法被调用
- 检查 `updateMapDisplay` 方法逻辑

### 问题3: 样式效果不生效
**解决方案**:
- 检查CSS类名是否正确绑定
- 确认样式文件路径正确
- 清除小程序缓存重新编译

## 📊 测试结果记录

### 测试环境
- 微信开发者工具版本: _____
- 测试设备: _____
- 微信版本: _____

### 功能测试结果
- [ ] 地图彩色显示正常
- [ ] 打卡点圆圈状态切换正常
- [ ] 渐进式显示效果符合预期
- [ ] 庆祝动画正常显示
- [ ] 数据存储功能正常
- [ ] 页面切换状态保持正常

### 性能测试
- [ ] 页面加载速度正常
- [ ] 动画效果流畅
- [ ] 内存使用正常
- [ ] 无卡顿现象

## 🎉 测试完成

如果所有测试项目都通过，说明渐进式地图显示功能已经成功实现！

您可以继续完善其他功能，或者准备发布上线。
