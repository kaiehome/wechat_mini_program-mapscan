# 🧪 微信开发者工具测试指南

## 📋 测试前准备

### 1. 环境准备
- ✅ 下载并安装 [微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
- ✅ 注册微信小程序账号
- ✅ 获取AppID

### 2. 项目导入
1. 打开微信开发者工具
2. 选择"导入项目"
3. 选择项目目录：`/Users/wangkai/Documents/GitHub/wechat_mini_program-mapscan`
4. 填写AppID（测试可使用测试号）
5. 点击"导入"

## 🔧 配置调整

### 1. 修改AppID
编辑 `project.config.json`：
```json
{
  "appid": "your-real-appid-here"
}
```

### 2. 调整打卡点坐标
编辑 `data/checkpoints.js`，修改为实际坐标：
```javascript
{
  id: 'signin',
  name: '寻根·霜降廉养',
  position: {
    lat: 39.908823,  // 实际纬度
    lng: 116.397470  // 实际经度
  }
}
```

## 🧪 功能测试步骤

### 测试1: 页面加载测试
1. **主页面测试**
   - 打开小程序，检查主页面是否正常加载
   - 验证地图是否显示
   - 检查打卡点列表是否显示

2. **扫码页面测试**
   - 点击"开始扫码打卡"按钮
   - 检查页面跳转是否正常
   - 验证进度显示是否正确

3. **印章页面测试**
   - 点击"查看我的印章"
   - 检查印章展示是否正常
   - 验证进度统计是否正确

### 测试2: 扫码功能测试
1. **相机权限测试**
   - 点击扫码按钮
   - 检查是否弹出相机权限请求
   - 授权后验证相机是否正常打开

2. **二维码扫描测试**
   - 准备测试二维码（内容为：`signin`）
   - 扫描二维码
   - 验证是否显示"打卡成功"提示

3. **错误处理测试**
   - 扫描无效二维码
   - 验证是否显示"无效的二维码"提示

### 测试3: 业务逻辑测试
1. **签到验证测试**
   - 先扫描非签到二维码（如：`esports`）
   - 验证是否显示"请首先签到"提示

2. **重复扫描测试**
   - 扫描已完成的二维码
   - 验证是否显示"已经完成过"提示

3. **进度更新测试**
   - 扫描签到二维码
   - 验证进度是否更新为1/6
   - 检查印章页面是否显示已完成的印章

### 测试4: 地图功能测试
1. **地图显示测试**
   - 检查地图是否正常加载
   - 验证打卡点标记是否显示

2. **标记点击测试**
   - 点击地图上的标记点
   - 验证是否弹出详情弹窗

3. **地图交互测试**
   - 测试地图缩放、拖拽功能
   - 验证用户位置显示

### 测试5: 数据存储测试
1. **本地存储测试**
   - 完成几个打卡点
   - 关闭小程序
   - 重新打开，验证数据是否保持

2. **数据重置测试**
   - 在开发者工具中清除存储
   - 验证数据是否重置为初始状态

## 📱 真机测试

### 1. 预览测试
1. 在开发者工具中点击"预览"
2. 用微信扫描生成的二维码
3. 在真机上测试所有功能

### 2. 真机调试
1. 在开发者工具中点击"真机调试"
2. 用微信扫描二维码
3. 在真机上运行并查看调试信息

### 3. 功能验证清单
- [ ] 页面加载正常
- [ ] 扫码功能正常
- [ ] 地图显示正确
- [ ] 印章收集正常
- [ ] 进度跟踪正确
- [ ] 数据存储正常
- [ ] 错误提示友好
- [ ] 动画效果流畅

## 🐛 常见问题解决

### 问题1: 扫码无反应
**原因**: 相机权限未授权
**解决**: 
1. 检查权限配置
2. 手动授权相机权限
3. 重启小程序

### 问题2: 地图显示异常
**原因**: 网络问题或坐标错误
**解决**:
1. 检查网络连接
2. 验证坐标数据
3. 检查地图API配置

### 问题3: 数据丢失
**原因**: 存储异常
**解决**:
1. 检查存储权限
2. 验证存储逻辑
3. 重新初始化数据

### 问题4: 页面样式异常
**原因**: 样式文件加载问题
**解决**:
1. 检查WXSS文件
2. 验证样式引用
3. 清除缓存重新编译

## 📊 测试结果记录

### 功能测试结果
- [ ] 页面加载测试
- [ ] 扫码功能测试
- [ ] 业务逻辑测试
- [ ] 地图功能测试
- [ ] 数据存储测试

### 设备兼容性测试
- [ ] iPhone测试
- [ ] Android测试
- [ ] 不同屏幕尺寸测试
- [ ] 不同微信版本测试

### 性能测试
- [ ] 页面加载速度
- [ ] 扫码响应速度
- [ ] 动画流畅度
- [ ] 内存使用情况

## 🎯 测试完成标准

### 必须通过的功能
1. ✅ 所有页面正常加载
2. ✅ 扫码功能完全正常
3. ✅ 地图显示和交互正常
4. ✅ 印章收集和显示正常
5. ✅ 进度跟踪准确
6. ✅ 数据存储可靠
7. ✅ 错误处理完善

### 性能要求
1. ✅ 页面加载时间 < 3秒
2. ✅ 扫码响应时间 < 2秒
3. ✅ 动画流畅度 > 30fps
4. ✅ 内存使用合理

### 兼容性要求
1. ✅ 支持iOS和Android
2. ✅ 支持微信7.0+版本
3. ✅ 适配主流屏幕尺寸
4. ✅ 网络异常处理

## 🚀 测试完成后的下一步

1. **修复发现的问题**
2. **优化性能和用户体验**
3. **准备图片资源**
4. **配置生产环境**
5. **提交审核发布**

---

**测试完成后，您的廉洁探索之旅小程序就可以正式上线了！** 🎉
